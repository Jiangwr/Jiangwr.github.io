<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Spring 中的组件注册 | jiangweirong</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Spring 中的组件注册</h1><a id="logo" href="/.">jiangweirong</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Spring 中的组件注册</h1><div class="post-meta">Jun 23, 2019</div><div class="post-content"><p>Spring 认为所有的组件都应该放在 IoC 容器中，组件之间的关系通过容器来进行自动装配，也就是依赖注入。</p>
<a id="more"></a>
<p>此篇使用注解方式说明 Spring 的组件注册方式。</p>
<h2 id="注解-Bean"><a href="#注解-Bean" class="headerlink" title="注解 @Bean"></a>注解 @Bean</h2><h3 id="首先需要说明-Spring-注解形式的基本项目结构"><a href="#首先需要说明-Spring-注解形式的基本项目结构" class="headerlink" title="首先需要说明 Spring 注解形式的基本项目结构"></a>首先需要说明 Spring 注解形式的基本项目结构</h3><p><img src="/2019/06/23/Spring-中的组件注册/Spring 注解形式的基本项目结构.png" alt=""></p>
<p>可以看到是有三个类构成的。</p>
<p>实体类 User.java:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String userName, Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">                <span class="string">"userName='"</span> + userName + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>配置类 MainConfig.java:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此为一个配置类，相当于 application.xml 配置文件，在此文件中声明 bean</span></span><br><span class="line"><span class="meta">@Configuration</span> <span class="comment">//声明是一个配置类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span> <span class="comment">//注册一个 bean；类型为返回值的类型，id 默认用方法名作为 id</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">user</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> User(<span class="string">"jwr"</span>, <span class="number">23</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主类 App.java:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class App &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext context = new AnnotationConfigApplicationContext(MainConfig.class);</span><br><span class="line">       <span class="built_in"> User user </span>= context.getBean(User.class);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>还有需要说明的 maven 项目的 pom.xml:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring.helloworld<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--spring-context 会自动将 spring-core、spring-beans、spring-aop、spring-expression 这几个基础 jar 包带进来。--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.11.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Bean-的注册功能测试"><a href="#Bean-的注册功能测试" class="headerlink" title="@Bean 的注册功能测试"></a>@Bean 的注册功能测试</h3><p>运行 App.java 得到的结果是:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User&#123;<span class="attribute">userName</span>=<span class="string">'jwr'</span>, <span class="attribute">age</span>=23&#125;</span><br></pre></td></tr></table></figure>
<p>说明注解 @Bean 成功把 User 注册到容器中。</p>
<h2 id="注解-ComponentScan"><a href="#注解-ComponentScan" class="headerlink" title="注解 @ComponentScan"></a>注解 @ComponentScan</h2><p>注解 @ComponentScan 是指定要扫描的包，只要标注了 @Controller、@Service、@Repository、@Component 的类，都会被注册到 IoC 容器中。</p>
<h3 id="测试-ComponentScan-注解的项目结构如下"><a href="#测试-ComponentScan-注解的项目结构如下" class="headerlink" title="测试 @ComponentScan 注解的项目结构如下:"></a>测试 @ComponentScan 注解的项目结构如下:</h3><p><img src="/2019/06/23/Spring-中的组件注册/测试 @ComponentScan 注解的项目结构.png" alt=""></p>
<p>MainConfig 类新增注解 @ComponentScan(value = “com.spring.hello”)</p>
<p>用注解 @Controller 标记了 UserController.java</p>
<p>用注解 @Service 标记了 UserService.java</p>
<p>用注解 @Repository 标记了 UserDao.java</p>
<p>用注解 @Component 标记了 ComponentTest.java</p>
<h3 id="ComponentScan-的注册功能测试"><a href="#ComponentScan-的注册功能测试" class="headerlink" title="@ComponentScan 的注册功能测试"></a>@ComponentScan 的注册功能测试</h3><p>其中 App.java 的修改如下:</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> void main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> <span class="type">AnnotationConfigApplicationContext</span>(MainConfig.class);</span><br><span class="line">        <span class="keyword">String</span>[] beanDefinitionNames =  context.getBeanDefinitionNames();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">String</span> name : <span class="type">beanDefinitionNames</span>) &#123;</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行 App.java 得到的输出结果如下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalConfigurationAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalAutowiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalRequiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalCommonAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerFactory</span></span><br><span class="line">mainConfig</span><br><span class="line">componentTest</span><br><span class="line">userController</span><br><span class="line">userDao</span><br><span class="line">userService</span><br><span class="line">user</span><br></pre></td></tr></table></figure>
<p>输出结果说明:</p>
<p>1、<code>org.springframework.context</code>前缀的是 IoC 容器自身需要装配的组件。</p>
<p>2、MainConfig.java 被注解 @Configuration 标注，并且注解  @Configuration 本身也是被 @Component 所标注的，所以输出中有 mainConfig。</p>
<p>3、因为 @Bean 的标注，user 也被注册到 IoC 容器中，所以输出中存在 user</p>
<p>4、除此之外输出结果中还有 componentTest、userController、userDao、userService，说明要扫描的包中，只要标注了 @Controller、@Service、@Repository、@Component 的类，都会被注册到 IoC 容器中。</p>
<h2 id="注解-Scope"><a href="#注解-Scope" class="headerlink" title="注解 @Scope"></a>注解 @Scope</h2><p>注解 @Scope 用作设置作用域，可以设的值有  singleton，prototype，如果是在 web 环境下，还可以设置为 request，session。其中 Bean 作用域默认为 singleton 单例。</p>
<ul>
<li>singleton :单例，默认值。IoC 容器启动会调用方法创建对象，并把对象放在容器(map)中，以后每次获取(使用)对象都是从容器中拿(map.get())。</li>
<li>prototype :多实例，每次获取(使用)对象的时候才会调用方法创建对象。</li>
<li>request：一个请求创建一个实例。</li>
<li>session:一个 session 创建一个实例。</li>
</ul>
<h2 id="注解-Lazy"><a href="#注解-Lazy" class="headerlink" title="注解 @Lazy"></a>注解 @Lazy</h2><p>懒加载是针对单例 Bean 来说的，因为通过上面内容，可以知道单例 Bean 默认在 IoC 容器启动的时候就创建了对象。而懒加载是让 Bean 在容器启动的时候不创建对象，而是在第一次使用到的时候再去创建对象，并初始化。</p>
<h3 id="注解-Lazy-功能测试"><a href="#注解-Lazy-功能测试" class="headerlink" title="注解 @Lazy 功能测试"></a>注解 @Lazy 功能测试</h3><p>MainConfig.java 代码如下:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此为一个配置类，相当于 application.xml 配置文件，在此文件中声明 bean</span></span><br><span class="line"><span class="variable">@Configuration</span> <span class="comment">//声明是一个配置类</span></span><br><span class="line"><span class="variable">@ComponentScan</span>(value = <span class="string">"com.spring.hello"</span>)</span><br><span class="line">public class MainConfig &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Bean</span> <span class="comment">//注册一个 bean；类型为返回值的类型，id 默认用方法名作为 id</span></span><br><span class="line">    public User user() &#123;</span><br><span class="line">        <span class="selector-tag">System</span><span class="selector-class">.out</span><span class="selector-class">.println</span>(<span class="string">"user 创建中"</span>);</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">new</span> <span class="selector-tag">User</span>(<span class="string">"jwr"</span>, <span class="number">23</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>App.java 代码如下</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class App &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext context = new AnnotationConfigApplicationContext(MainConfig.class);</span><br><span class="line">        System.out.println(<span class="string">"IoC 启动完成"</span>);</span><br><span class="line">       <span class="built_in"> User user </span>= context.getBean(User.class);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>启动主类，得到的输出结果如下：</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">user</span> <span class="title">创建中</span></span><br><span class="line"><span class="title">IoC</span> 启动完成</span><br></pre></td></tr></table></figure>
<p>在 MainConfig.java 中添加注解 @Lazy，修改完的代码如下：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此为一个配置类，相当于 application.xml 配置文件，在此文件中声明 bean</span></span><br><span class="line"><span class="variable">@Configuration</span> <span class="comment">//声明是一个配置类</span></span><br><span class="line"><span class="variable">@ComponentScan</span>(value = <span class="string">"com.spring.hello"</span>)</span><br><span class="line">public class MainConfig &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Lazy</span></span><br><span class="line">    <span class="variable">@Bean</span> <span class="comment">//注册一个 bean；类型为返回值的类型，id 默认用方法名作为 id</span></span><br><span class="line">    public User user() &#123;</span><br><span class="line">        <span class="selector-tag">System</span><span class="selector-class">.out</span><span class="selector-class">.println</span>(<span class="string">"user 创建中"</span>);</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">new</span> <span class="selector-tag">User</span>(<span class="string">"jwr"</span>, <span class="number">23</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>重新启动主类，得到的结果如下:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IoC 启动完成</span><br><span class="line">user 创建中</span><br></pre></td></tr></table></figure>
<p>由以上测试结果可知:添加注解 @Lazy 后，单例的 user 在第一次使用的时候才被创建。</p>
<h2 id="注解-Conditional"><a href="#注解-Conditional" class="headerlink" title="注解 @Conditional"></a>注解 @Conditional</h2><p>注解 @Conditional 可以标记在类或者方法上，按照一定的条件进行判断，满足条件的可以在容器中注册 Bean。注解 @Conditional 的值需要传入一个 Condition 接口的实现类，实现其 matches() 方法，返回为 true 表示符合条件，可以注册到容器中。</p>
<h3 id="注解-Conditional-功能测试"><a href="#注解-Conditional-功能测试" class="headerlink" title="注解 @Conditional 功能测试"></a>注解 @Conditional 功能测试</h3><p>MainConfig.java 代码如下:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此为一个配置类，相当于 application.xml 配置文件，在此文件中声明 bean</span></span><br><span class="line"><span class="variable">@Configuration</span> <span class="comment">//声明是一个配置类</span></span><br><span class="line"><span class="variable">@ComponentScan</span>(value = <span class="string">"com.spring.hello"</span>)</span><br><span class="line">public class MainConfig &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Bean</span> <span class="comment">//注册一个 bean；类型为返回值的类型，id 默认用方法名作为 id</span></span><br><span class="line">    <span class="variable">@Conditional</span>(ConditionTest.class)</span><br><span class="line">    public User user() &#123;</span><br><span class="line">        <span class="selector-tag">System</span><span class="selector-class">.out</span><span class="selector-class">.println</span>(<span class="string">"user 创建中"</span>);</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">new</span> <span class="selector-tag">User</span>(<span class="string">"jwr"</span>, <span class="number">23</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ConditionTest.java 代码如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConditionTest</span> <span class="keyword">implements</span> <span class="title">Condition</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>App.java 代码如下：</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> void main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> <span class="type">AnnotationConfigApplicationContext</span>(MainConfig.class);</span><br><span class="line">        <span class="keyword">String</span>[] beanDefinitionNames =  context.getBeanDefinitionNames();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">String</span> name : <span class="type">beanDefinitionNames</span>) &#123;</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行主类，得到结果如下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalConfigurationAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalAutowiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalRequiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalCommonAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerFactory</span></span><br><span class="line">mainConfig</span><br><span class="line">componentTest</span><br><span class="line">userController</span><br><span class="line">userDao</span><br><span class="line">userService</span><br></pre></td></tr></table></figure>
<p>因为 ConditionTest 类中的 matches() 方法返回的是 false，所以 user 没有被注册到 IoC 容器中。</p>
<h2 id="注解-Import"><a href="#注解-Import" class="headerlink" title="注解 @Import"></a>注解 @Import</h2><p>通过 @Import，容器会自动注册这个组件。</p>
<h3 id="注解-Import-功能测试"><a href="#注解-Import-功能测试" class="headerlink" title="注解 @Import 功能测试"></a>注解 @Import 功能测试</h3><p>新建一个类 Weapon.java，代码如下：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Weapon</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行主类，得到的输出结果为</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalConfigurationAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalAutowiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalRequiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalCommonAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerFactory</span></span><br><span class="line">mainConfig</span><br><span class="line">componentTest</span><br><span class="line">userController</span><br><span class="line">userDao</span><br><span class="line">userService</span><br></pre></td></tr></table></figure>
<p>在 MainConfig.java 通过 @Import 引入 Weapon。MainConfig.java 代码如下</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此为一个配置类，相当于 application.xml 配置文件，在此文件中声明 bean</span></span><br><span class="line"><span class="variable">@Configuration</span> <span class="comment">//声明是一个配置类</span></span><br><span class="line"><span class="variable">@ComponentScan</span>(value = <span class="string">"com.spring.hello"</span>)</span><br><span class="line"><span class="variable">@Import</span>(Weapon.class)</span><br><span class="line">public class MainConfig &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Bean</span> <span class="comment">//注册一个 bean；类型为返回值的类型，id 默认用方法名作为 id</span></span><br><span class="line">    <span class="variable">@Conditional</span>(ConditionTest.class)</span><br><span class="line">    public User user() &#123;</span><br><span class="line">        <span class="selector-tag">System</span><span class="selector-class">.out</span><span class="selector-class">.println</span>(<span class="string">"user 创建中"</span>);</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">new</span> <span class="selector-tag">User</span>(<span class="string">"jwr"</span>, <span class="number">23</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行主类，得到输出结果如下:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalConfigurationAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalAutowiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalRequiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalCommonAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerFactory</span></span><br><span class="line">mainConfig</span><br><span class="line">componentTest</span><br><span class="line">userController</span><br><span class="line">userDao</span><br><span class="line">userService</span><br><span class="line">com<span class="selector-class">.spring</span><span class="selector-class">.hello</span><span class="selector-class">.Weapon</span></span><br></pre></td></tr></table></figure>
<p>com.spring.hello.Weapon 即为新注册进来的 Weapon 的 id。通过 @Import 注册的 Bean，id 为其类的全限定名。</p>
<h2 id="使用-Spring-提供的-FactoryBean-来注册-Bean"><a href="#使用-Spring-提供的-FactoryBean-来注册-Bean" class="headerlink" title="使用 Spring 提供的 FactoryBean 来注册 Bean"></a>使用 Spring 提供的 FactoryBean 来注册 Bean</h2><p>新建一个 WeaponFactoryBean.java ，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建 Spring 定义的 FactoryBean</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeaponFactoryBean</span> <span class="keyword">implements</span> <span class="title">FactoryBean</span>&lt;<span class="title">Weapon</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//返回一个 Weapon 对象，这个对象会被注册到容器中</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Weapon <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Weapon();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//返回对象的类型</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> Weapon.class;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//控制是否单例，true 为单例，false 不是单例</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改 MainConfig.java 代码如下：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此为一个配置类，相当于 application.xml 配置文件，在此文件中声明 bean</span></span><br><span class="line"><span class="variable">@Configuration</span> <span class="comment">//声明是一个配置类</span></span><br><span class="line"><span class="variable">@ComponentScan</span>(value = <span class="string">"com.spring.hello"</span>)</span><br><span class="line"><span class="variable">@Import</span>(Weapon.class)</span><br><span class="line">public class MainConfig &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Bean</span> <span class="comment">//注册一个 bean；类型为返回值的类型，id 默认用方法名作为 id</span></span><br><span class="line">    <span class="variable">@Conditional</span>(ConditionTest.class)</span><br><span class="line">    public User user() &#123;</span><br><span class="line">        <span class="selector-tag">System</span><span class="selector-class">.out</span><span class="selector-class">.println</span>(<span class="string">"user 创建中"</span>);</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">new</span> <span class="selector-tag">User</span>(<span class="string">"jwr"</span>, <span class="number">23</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @<span class="selector-tag">Bean</span></span><br><span class="line">    <span class="selector-tag">public</span> <span class="selector-tag">WeaponFactoryBean</span> <span class="selector-tag">weaponFactoryBean</span>() &#123;</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">new</span> <span class="selector-tag">WeaponFactoryBean</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改 App.java， 代码如下</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class App &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        ApplicationContext <span class="built_in">context</span> = new AnnotationConfigApplicationContext(MainConfig.class)<span class="comment">;</span></span><br><span class="line">        String[] <span class="keyword">beanDefinitionNames </span>= <span class="built_in">context</span>.getBeanDefinitionNames()<span class="comment">;</span></span><br><span class="line">        for (String name : <span class="keyword">beanDefinitionNames) </span>&#123;</span><br><span class="line">            System.out.println(name)<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">        Object <span class="keyword">bean </span>= <span class="built_in">context</span>.getBean(<span class="string">"weaponFactoryBean"</span>)<span class="comment">;</span></span><br><span class="line">        System.out.println(<span class="string">"weaponFactoryBean 的类型:"</span> + <span class="keyword">bean.getClass());</span></span><br><span class="line"><span class="keyword"> </span>       Object factoryBean = <span class="built_in">context</span>.getBean(<span class="string">"&amp;weaponFactoryBean"</span>)<span class="comment">;</span></span><br><span class="line">        System.out.println(<span class="string">"weaponFactoryBean 的类型:"</span> + factoryBean.getClass())<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行主类，得到的输出结果如下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalConfigurationAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalAutowiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalRequiredAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.annotation</span><span class="selector-class">.internalCommonAnnotationProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerProcessor</span></span><br><span class="line">org<span class="selector-class">.springframework</span><span class="selector-class">.context</span><span class="selector-class">.event</span><span class="selector-class">.internalEventListenerFactory</span></span><br><span class="line">mainConfig</span><br><span class="line">componentTest</span><br><span class="line">userController</span><br><span class="line">userDao</span><br><span class="line">userService</span><br><span class="line">com<span class="selector-class">.spring</span><span class="selector-class">.hello</span><span class="selector-class">.Weapon</span></span><br><span class="line">weaponFactoryBean</span><br><span class="line">weaponFactoryBean 的类型:class com<span class="selector-class">.spring</span><span class="selector-class">.hello</span><span class="selector-class">.Weapon</span></span><br><span class="line">weaponFactoryBean 的类型:class com<span class="selector-class">.spring</span><span class="selector-class">.hello</span><span class="selector-class">.WeaponFactoryBean</span></span><br></pre></td></tr></table></figure>
<p>由上述结果可知，可以通过 FactoryBean 来进行注册 Bean，并且由 FactoryBean 获取的是调用 getObject() 创建的对象。通过加 “&amp;” 前缀可以获取到 FactoryBean 本身。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>在容器中注册组件，主要有以下几种 方式:</p>
<p>1、包扫描(@ComponentScan) + 组件标记注解(@Controller、@Service、@Repository、@Component )</p>
<p>2、@Bean 注解导入组件。</p>
<p>3、@Import 注解导入组件。</p>
<p>4、使用 FactoryBean 来注册 Bean。</p>
</div><div class="tags"><a href="/tags/Spring/">Spring</a></div><div class="post-nav"><a class="pre" href="/2019/06/28/解决-MacOS-下-sbt-加载慢的问题/">解决 MacOS 下 sbt 加载慢的问题</a><a class="next" href="/2019/06/12/位运算的相关知识/">位运算的常见使用方式</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Scala/">Scala</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/书籍阅读/">书籍阅读</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/开发经验/">开发经验</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构与算法/">数据结构与算法</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机网络/">计算机网络</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/面试记录/">面试记录</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Spring/" style="font-size: 15px;">Spring</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/04/29/2021面试记录/">2021面试记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/05/Redis中的数据结构与对象/">Redis中的数据结构与对象</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/03/Redis-的事务实现/">Redis 的事务实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/18/二叉树的前中后序遍历/">二叉树的前中后序遍历</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/02/04/union-find/">union find</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/01/28/MySQL学习笔记/">MySQL学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/27/基础排序-冒泡排序及其变体/">基础排序-冒泡排序及其变体</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/09/Rails响应请求的过程/">Rails 响应 Web 请求的过程</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/26/Spring-中的-refresh-方法/">Spring 中的 refresh()方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/20/JVM的运行时数据区域、垃圾回收以及类加载机制/">JVM的运行时数据区域、垃圾回收以及类加载机制</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">jiangweirong</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>